# 대전 중구 지역경제 활성화를 위한 성심당 방문객 행선지 추천시스템
## 1. 분석 배경


### 대전에 사람 존나안와


ㅇㅇㅎㅎ

그래서 분석을 햇습니다


개같은 공모전것들


### 대전에 사람 존~~나안와



### 2.1 데이터를 이용한 성심당 방문객 추출
#### "Cell Id별/업종별 가맹점 실적정보.csv"로 부터 성심당 매장 정보 추출
- 업종 소분류명에 '빵' 혹은 '제과'라는 단어가 있는 가맹점만 추출 
- 다수의 ‘기준일자’에 대해 cell_id가 **‘다바93a14a’**, 업종소분류가 **‘제과점업(I56191)’** 인 가맹점의 이용건수가 가장 많음을 확인
#### "지역별 업종 유입고객 및 상권특성 정보.csv"로 부터 성심당 방문객 정보 추출 
- 행정동_상권 : 30140535(은행선화동)
- 업종소분류 : I56191
- 광역시_유입 : 30(대전광역시) 제외
- 업력 : 10년초과
- 구분_시간대 : 5(22시-06시) 제외
- 구분_개인법인 : 개인

두 카드매출 데이터로부터 성심당 방문객을 추출하였고, 이 정보를 담은 데이터프레임을 "sungsim_card.csv"파일로 저장

### 2.2 성심당 방문객들의 이동경로 분석을 위한 데이터 생성 과정
1. 가맹점 실적정보 데이터로부터 이용건수와 이용금액이 높은 2024년 5월 데이터만 시각화 대상으로 선택
    - 효과적으로 시각화하기 위해 1년 데이터 전부를 시각화하기보다 이용건수의 합과 이용금액의 합이 동시에 가장 높은 5월만 선택\
    ![스크린샷 2024-10-25 214405](https://github.com/user-attachments/assets/2b2f7d74-6043-4413-98ef-683b74a44082)
    \<이용건수의 합\>
    ![스크린샷 2024-10-25 214451](https://github.com/user-attachments/assets/fc7c902c-7bd4-4608-8608-a61ca2c5d19d)
    \<이용금액의 합\>


2. 성심당에서 가장 많은 소비를 한 20대 여성을 시각화 대상으로 선택
    - 지역별 업종 유입고객 데이터로부터 5월에 20대 여성이 성심당에서 이용건수의 합과 이용금액의 합이 가장 높은 것을 확인\
    ![스크린샷 2024-10-25 214813](https://github.com/user-attachments/assets/a12828ce-5c28-42be-b31c-1ab13a95ceca)
    \<5월 이용건수의 합 상위 3개월\>
    ![스크린샷 2024-10-25 214840](https://github.com/user-attachments/assets/9481ee90-4f0b-4e4b-907e-5361fdf4a768)
    \<5월 이용금액의 합 상위 3개월\>


3. 유동인구 대표값으로 중앙값(Median)사용
   - 5월 유동인구 데이터에서 모든 셀(cell)에 대하여 시간대별 휴일과 평일을 구분한 후 20대 여성의 유동인구를 살펴본 결과,0의 값이 많고 오른쪽으로 긴 꼬리를 가진 분포임을 확인
   - 이러한 분포 특성상 평균보다는 중앙값이 유동인구의 특징을 더 잘 나타내는 지표가 되기 때문에 중앙값을 사용 
  ![output](https://github.com/user-attachments/assets/886110bd-4ca5-4488-bf3a-ca0adcbbb8f8)


4. 유동인구 데이터 전처리
    - ‘성별_연령’ 변수의 연령 구간을 10세 단위로 재범주화
    - 평일(월~금)과 휴일(토,일,공휴일)을 나타내는 ‘holiday’ 변수 생성
    - 유동인구의 ‘x좌표’, ‘y좌표’를 WGS84 좌표계로 변환하여 ‘latitude’, ‘longitude’ 변수 생성
    - 유동인구 데이터의 변수 중에서 ‘셀번호’, ‘x좌표’, ‘y좌표’, ‘시간대’, ‘행정동코드’, ‘일자’, ‘holiday’, ‘여성_20대’ 만 선택\

=>이 과정을 거쳐 만들어진 최종 데이터를 **"final_pop_may_20.csv"** 파일로 저장하였고, 이 데이터를 **유동인구 시각화** 하는데 사용함

### 2.3 성심당 방문객들의 이동경로 시각화
- final_pop_may_20의 데이터의 값을 평일과 휴일로 나누어 시간대별로 변화하는 히트맵을 지도 위에 나타냄
- 행정동 파악을 쉽게 하기 위해 대전 중구 지역의 행정구역도를 표시함
- 유동인구 변화하는 히트맵을 gif 파일로 저장하였으나 용량이 커 figures 폴더에 첨부함 
![heatmap_평일_12](https://github.com/user-attachments/assets/03d266dc-5f2a-497b-ab75-8c48263ddbd6)
\<평일 12시 유동인구\>
![heatmap_휴일_12](https://github.com/user-attachments/assets/cd987530-9b72-4d09-b250-bbb6729d14a0)
\<휴일 12시 유동인구\>
- 시각화한 결과를 더 상세히 파악하기 위해
 **각 시간대마다 유동인구가 높은 5개의 cell**만을 추출하여 다시 시각화
![heatmap_top5_평일_12](https://github.com/user-attachments/assets/8e89349d-9ed8-419e-8cb7-786170d3ce1f)
\<평일 12시 상위 5개 cell의 유동인구\>
![heatmap_top5_휴일_12](https://github.com/user-attachments/assets/7024a0e8-5c51-4d9b-903a-e0233da420b2)
\<휴일 12시 상위 5개 cell의 유동인구\>


## 4. Pain Point & Solution
**1. 관광지 데이터를 수집한 후 크롤링**  
**2. 전처리를 거쳐 tf-idf 행렬 생성**  
**3. 생성된 tf-idf 행렬로 관관지들을 군집화**  
**4. 사용자의 유동 패턴을 고려하여 관광지 우선 순위 추천**  

❓관광지가 이미 역사관광, 문화관광 등으로 구분되어 있는데 군집화를 하고자 하는 이유 :

기존의 구분은 관광지의 성격만 나타낼 뿐 관광객들이 느끼는 감정과 감성을 반영하고 있지 않음  
➡️ 크롤링을 통해 관광객들이 생각하는 관광지의 감상과 느낌 추출 & 더 세부적인 테마나 감성적인 카테고리 도출 가능
![image](https://github.com/user-attachments/assets/fd9b0684-ac50-4e24-b450-c10c125179d6)

## 5. 관광지 추천 시스템 구현
### 5.1 관광지 데이터 수집
대전 중구에 위치한 관광지들을 파악하기 위해 한국관광 데이터랩 사이트에서 대전 중구의 중심 관광지명들을 파일로 수집
